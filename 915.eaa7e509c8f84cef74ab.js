(self.webpackChunktpa_info_app=self.webpackChunktpa_info_app||[]).push([[915],{915:(n,i,e)=>{"use strict";e.r(i),e.d(i,{SigninModule:()=>f});var r=e(1462),s=e(7292),t=e(1116),o=e(5366),l=e(5238);function a(n,i){1&n&&(o.TgZ(0,"li"),o._uU(1," Please enter your email! "),o.qZA())}function u(n,i){1&n&&(o.TgZ(0,"li"),o._uU(1," Please enter a valid email! "),o.qZA())}function g(n,i){1&n&&(o.TgZ(0,"li"),o._uU(1," Please enter a passowrd! "),o.qZA())}function m(n,i){1&n&&(o.TgZ(0,"li"),o._uU(1," The password could not be longer then 30 symbols! "),o.qZA())}function p(n,i){1&n&&(o.TgZ(0,"li"),o._uU(1," The password should be at least 8 symbols! "),o.qZA())}function c(n,i){if(1&n&&(o.TgZ(0,"p",16),o._uU(1),o.qZA()),2&n){const n=o.oxw();o.xp6(1),o.Oqu(n.errorMsgOnSubmit)}}let d=(()=>{class n{constructor(n,i){this.authService=n,this.router=i,this.errorMsgOnSubmit="",this.isLoading=!1}ngOnInit(){this.signinForm=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.email]),password:new r.NI(null,[r.kI.required,r.kI.minLength(8),r.kI.maxLength(30)])})}onSubmit(n){this.isLoading=!0,this.authService.signIn(n.value.email,n.value.password).subscribe(()=>{this.errorMsgOnSubmit="",this.router.navigate(["/companies"]),this.isLoading=!1},n=>{this.errorMsgOnSubmit=n,this.isLoading=!1})}}return n.\u0275fac=function(i){return new(i||n)(o.Y36(l.e),o.Y36(s.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-signin"]],decls:28,vars:8,consts:[[1,"container"],[1,"sign-form",3,"formGroup","ngSubmit"],[1,"sign-form__sign-up-header"],[1,"sign-form__sign-element"],["for","email"],[1,"email"],[1,"email-img"],["type","text","name","email","formControlName","email"],[1,"sign-error"],[4,"ngIf"],["for","password"],[1,"password"],[1,"password-img"],["type","password","name","password","formControlName","password"],["type","submit",1,"btn","red-btn","login-btn",3,"disabled"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(n,i){if(1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit(i.signinForm)}),o.TgZ(2,"div",2),o.TgZ(3,"h2"),o._uU(4,"Sign in"),o.qZA(),o.qZA(),o.TgZ(5,"div",3),o.TgZ(6,"label",4),o._uU(7,"Email"),o.qZA(),o.TgZ(8,"div",5),o._UZ(9,"div",6),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"ul",8),o.YNc(12,a,2,0,"li",9),o.YNc(13,u,2,0,"li",9),o.qZA(),o.qZA(),o.TgZ(14,"div",3),o.TgZ(15,"label",10),o._uU(16,"Password"),o.qZA(),o.TgZ(17,"div",11),o._UZ(18,"div",12),o._UZ(19,"input",13),o.qZA(),o.TgZ(20,"ul",8),o.YNc(21,g,2,0,"li",9),o.YNc(22,m,2,0,"li",9),o.YNc(23,p,2,0,"li",9),o.qZA(),o.qZA(),o.TgZ(24,"div"),o.TgZ(25,"button",14),o._uU(26,"Sign in"),o.qZA(),o.YNc(27,c,2,1,"p",15),o.qZA(),o.qZA(),o.qZA()),2&n){let n,e,r,s,t;o.xp6(1),o.Q6J("formGroup",i.signinForm),o.xp6(11),o.Q6J("ngIf",!(null!=(n=i.signinForm.get("email"))&&n.valid)&&!(null!=(n=i.signinForm.get("email"))&&n.hasError("email"))&&(null==(n=i.signinForm.get("email"))?null:n.touched)),o.xp6(1),o.Q6J("ngIf",(null==(e=i.signinForm.get("email"))?null:e.hasError("email"))&&(null==(e=i.signinForm.get("email"))?null:e.touched)),o.xp6(8),o.Q6J("ngIf",!(null!=(r=i.signinForm.get("password"))&&r.valid)&&!(null!=(r=i.signinForm.get("password"))&&r.hasError("maxlength"))&&!(null!=(r=i.signinForm.get("password"))&&r.hasError("minlength"))&&(null==(r=i.signinForm.get("password"))?null:r.touched)),o.xp6(1),o.Q6J("ngIf",(null==(s=i.signinForm.get("password"))?null:s.hasError("maxlength"))&&(null==(s=i.signinForm.get("password"))?null:s.touched)),o.xp6(1),o.Q6J("ngIf",(null==(t=i.signinForm.get("password"))?null:t.hasError("minlength"))&&(null==(t=i.signinForm.get("password"))?null:t.touched)),o.xp6(2),o.Q6J("disabled",!i.signinForm.valid),o.xp6(2),o.Q6J("ngIf",i.errorMsgOnSubmit)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,t.O5],encapsulation:2}),n})();var h=e(9996);let Z=(()=>{class n{constructor(n,i){this.authService=n,this.router=i}canActivate(n,i){return this.authService.user.pipe((0,h.U)(n=>!n||this.router.createUrlTree(["/companies"])))}}return n.\u0275fac=function(i){return new(i||n)(o.LFG(l.e),o.LFG(s.F0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[t.ez,r.UX,s.Bz.forChild([{path:"",component:d,canActivate:[Z]}])]]}),n})()}}]);